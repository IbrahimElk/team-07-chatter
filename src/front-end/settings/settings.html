<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script type="importmap">
      {
        "imports": {
          "three": "https://unpkg.com/three@0.149.0/build/three.module.js",
          "three/addons/": "https://unpkg.com/three@0.149.0/examples/jsm/",
          "jquery": "https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js",
          "zod": "https://cdn.jsdelivr.net/npm/zod@3.20.6/+esm"
        }
      }
    </script>
    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" />

    <link rel="stylesheet" href="settings.css" />
    <script type="module" src="./settings.js"></script>
    <title>Settings</title>
  </head>

  <!-- Notification -->
  <div class="toast-container" style="position: absolute; top: 80px; right: 10px">
    <div class="toast" id="myToast">
      <div class="toast-header">
        <strong class="me-auto"><i class="bi-bell"></i> Notification</strong>
        <small>Just now</small>
        <button type="button" class="btn-close" id="closeBtn"></button>
      </div>
      <div class="toast-body" id="toastbody">You just received a new message!</div>
    </div>
  </div>

  <body>
    <!-- Begin navbar-->
    <nav class="navbar navbar-expand-lg bg-body-tertiary py-3 fixed-top">
      <div class="container-fluid">
        <a href="../home/home.html">
          <button class="btn light-blue" type="home"><i class="bi bi-house"></i> Home</button>
        </a>
      </div>
    </nav>
    <!-- End of navbar-->
    <section class="p-5 my-4">
      <div class="container">
        <div class="row text-center g-4">
          <div class="col-md">
            <div class="card my-5 border-blue">
              <div class="card-body text-center g-4">
                <div class="h1 mb-3">
                  <i class="bi bi-gear"></i>
                </div>
                <h3 class="card-title py-3 border-bottom">Settings</h3>
                <div class="d-flex align-items-center py-1">
                  <div class="mx-auto">
                    <label for="file-upload">
                      <img id="profile-image" src="../img/profile.jpg" class="img rounded-circle profile-icon" alt="" />
                    </label>
                    <input id="file-upload" type="file" style="display: none" accept="image/png" multiple="false" />
                  </div>
                </div>
                <div class="py-2">
                  <div class="row py-2 justify-content-center">
                    <div class="col-md-6">
                      <label for="firstname">Enter Username:</label>
                      <input
                        id="usernameInput"
                        type="text"
                        class="bg-light form-control border-blue"
                        placeholder="New Username"
                      />
                    </div>
                    <div class="d-flex justify-content-center py-3">
                      <button class="btn btn-blue" id="save-button">Save Changes</button>
                    </div>
                  </div>
                  <div class="row py-2 justify-content-center">
                    <div class="col-md-6">
                      <div class="d-flex justify-content-center py-2">
                        <button class="btn btn-blue" id="keystrokes-button">activate keystroke fingerprinting</button>
                      </div>
                      <div class="d-flex justify-content-center py-2">
                        <button class="btn btn-blue" data-darkmode="false" id="darkmode-button">Darkmode</button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <script>
      // Script for darkmode
      const mode = localStorage.getItem('theme');
      const darkmodeButton = document.getElementById('darkmode-button');
      const htmlElement = document.querySelector('html');
      htmlElement.setAttribute('data-bs-theme', mode);
      darkmodeButton.addEventListener('click', () => {
        if (darkmodeButton.getAttribute('data-darkmode') === 'false') {
          localStorage.setItem('theme', 'dark');
          htmlElement.setAttribute('data-bs-theme', 'dark');
          darkmodeButton.setAttribute('data-darkmode', 'true');
        } else {
          localStorage.setItem('theme', 'light');
          htmlElement.setAttribute('data-bs-theme', 'light');
          darkmodeButton.setAttribute('data-darkmode', 'false');
        }
      });
    </script>
  </body>
</html>
